<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title> CCO : Commercial leaflet creation</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

  </head>
  <body>

    <div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="row">
			<!--
				<div class="col-md-2">
					<img alt="Bootstrap Image Preview" src="http://lorempixel.com/140/140/">
				</div>
				-->
				<div class="col-md-12">
					<nav class="navbar navbar-default" role="navigation">
						<div class="navbar-header">
							 
							<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								 <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
						</div>
						
						<div class="collapse navbar-collapse text-center" id="@">
							<ul class="nav navbar-nav">
								<!--
								<li class="active">
									<a href="#">Link</a>
								</li>
								<li>
									<a href="#">Link</a>
								</li>
								-->
								<li>
								<a class="navbar-brand" href="#">Flight List</a>
								</li>
								<li>
								<a class="navbar-brand" href="#">Flight Creation Page</a>
								</li>
								<li>
								<a class="navbar-brand" href="#">Commercial Leaflet</a>
								</li>
								</ul>
								<ul class="nav navbar-nav navbar-right">
									<li>
										<a class="navbar-brand" href="#">Logout</a>
									</li>
								</ul>
							</ul>
						</div>
						
					</nav>
				</div>
			</div>
			<div class="row">
				<div class="col-md-2">
				</div>
				<div class="col-md-8">
					<h3 class="text-center">
						Leafleat
					</h3>
				</div>
				<div class="col-md-2">
				</div>
			</div>
			<div class="row">
				<div class="col-md-1">
				</div>
				<div class="col-md-2">
					 
					<button type="button" class="btn btn-default">
						Go back
					</button> 
				</div>
				<div class="col-md-2">
					 
					
					</div>
				
				<div class="col-md-2">
				</div>
				<div class="col-md-2">
				</div>
				<div class="col-md-1">
				</div>
				<div class="col-md-2">
				</div>
			</div>
			<div class="row">
				<div class="col-md-1">
				</div>
				<div class="col-md-10">
					<table class="table">
						<thead>
							<tr>
								<th>
									Leaflets
								</th>
							</tr>
						</thead>
						<tbody>
						<!--
							<tr class="active">
								<td class="center">
									<p>first leaflet
  								</td>
								<td>
  										<label>
  											<input type="checkbox" value="">
  										</label>
								</td>
							</tr>
						-->
						</tbody>
					</table>
				</div>
				<div class="col-md-1">
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-md-1">
			<button id="btn-new" type="button" class="btn btn-default">
				New
			</button> 
			<button id="btn-getLeaflet" type="button" class="btn btn-default">
				Get Leaflet
			</button>
		</div>
			<div id="myDiv" class="form-group" style="display: none;">	 
				<label for="inputLeaflet" class="col-sm-2 control-label">
					New leaflet:
				</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="ann_leaflet" placeholder="Content">
				</div>
			<button id="btn-add" type="button" class="btn btn-default">
				Add
			</button>	
		</div>
	</div>
</div>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/scripts.js"></script>
<script type="text/javascript">
$( document ).ready(function() {

	// Getting information leaflet
	var elt_com_num = document.getElementById("num");
	var elt_content = document.getElementById("ann_leaflet");

	var btn_new = document.getElementById("btn-new");
	var btn_add = document.getElementById("btn-add");
 	var btn_getLeaflet = document.getElementById("btn-getLeaflet");	

	btn_new.addEventListener("click", function(){
		$('#myDiv').css('display','block');
	});

	btn_add.addEventListener("click", function(){
		$('#myDiv').css('display','none');
	});

 	// GET --------------------------------------------------------
	btn_getLeaflet.addEventListener("click", function(){
		getLeaflet();
	});

	function getLeaflet(){
		 $.ajax({ 
	        type: 'GET', 
	        url: "ws/cco/leaflet/list-leaflet", 
	        data: { get_param: 'value' }, 
	        success: function (data) { 
	            console.log(data);
	        }
	    });
	}

	// PUT --------------------------------------------------------
	btn_addLeaflet.addEventListener("click", function(){
 		checkFields();
	});

 	// Verifies wether we have all necessary info of the leaflet
    function checkFields(){

    	if(elt_content.value == ''){
    		console.log("verifier les champs");
    	}else{
    		console.log("champ rempli");
    		createLeaflet()
    	}

    }


  function createLeaflet(){

	var Leaflet = new Object();
    	Leaflet.id = elt_com_num.value;
    	Leaflet.content = elt_content.value;
  		
	$.ajax({
	 	url: "ws/cco/leaflet/create-leaflet",
	 	type: 'PUT',
	 	contentType: "application/json",
	 	dataType: "json",
  	2data: JSON.stringify(Leaflet)
	}).done(function( msg ) {
	  	console.log("ok");
	  });
}

});	

</script>
</body>
</html>